<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>[ LYDSTYRKEN ]</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#000;
      --card:#111;
      --muted:rgba(255,255,255,0.75);
      --accent:rgba(0,255,136,0.12);
      --accent-strong:rgba(0,255,136,0.22);
      --green:#00ff88;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Montserrat,system-ui,Arial,sans-serif;
      background:var(--bg);
      color:#fff;
      text-transform:uppercase;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:18px 18px;
      gap:12px;
      position:sticky;top:0;background:transparent;z-index:20;
      border-bottom:1px solid rgba(255,255,255,0.03)
    }
    .logo{font-weight:900;font-size:1.1rem}

    /* Navigation: no green glow on nav items per request */
    nav{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    nav a{
      color:#fff;text-decoration:none;font-weight:700;letter-spacing:1px;
      padding:6px 10px;border-radius:6px;border:1px solid rgba(255,255,255,0.06);
      background:transparent;font-size:0.9rem
    }

    /* Grøn hover-effekt på navigation */
    nav a {
    color: #fff;
    text-decoration: none;
    font-weight: 700;
    letter-spacing: 1px;
    padding: 6px 10px;
    border-radius: 6px;
    border: 1px solid rgba(255,255,255,0.06);
    background: transparent;
    font-size: 0.9rem;
    transition: all 0.2s ease;
    }

    nav a:hover {
    color: #000;
    background: var(--green);
    border-color: var(--green);
    box-shadow: 0 0 10px var(--green);
    transform: translateY(-2px);
    }

    nav a:active {
    transform: translateY(0);
    box-shadow: none;
    }


    nav a:focus{outline:2px solid rgba(255,255,255,0.08)}

    .login-btn{
      padding:6px 12px;border-radius:6px;border:2px solid #fff;background:transparent;color:#fff;font-weight:900;cursor:pointer
    }
    .login-btn:active{transform:translateY(1px)}

    .hero {
    height: 80vh; /* Fylder hele skærmen */
    display: flex;
    align-items: center; /* Centrerer vertikalt */
    justify-content: center; /* Centrerer horisontalt */
    flex-direction: column;
    text-align: center;
    padding: 32px 100px;

    background: linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.6)),
                url('hero-speaker.jpg') center/cover no-repeat;
    }


    .hero h1{font-size:clamp(1.8rem,6vw,3.2rem);margin:0;font-weight:900}
    .hero p{max-width:720px;margin-top:12px;color:var(--muted);font-weight:400}

    main{max-width:1100px;margin:40px auto;padding:0 18px}
    h2{font-size:clamp(1.2rem,4vw,1.8rem);margin:0 0 18px 0;font-weight:900}

    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px}
    .card{position:relative;border-radius:10px;overflow:hidden;aspect-ratio:1/1;border:1px solid rgba(255,255,255,0.03);transition:box-shadow .18s ease,transform .18s ease}
    .card:hover{box-shadow:0 6px 18px var(--accent);transform:translateY(-3px)}
    .card img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;transition:transform .4s ease}
    .card:hover img{transform:scale(1.08)}
    .card .overlay{position:absolute;inset:0;background:linear-gradient(to top,rgba(0,0,0,0.7),rgba(0,0,0,0));display:flex;flex-direction:column;justify-content:flex-end;padding:14px;transition:background .3s ease}
    .card:hover .overlay{background:linear-gradient(to top,rgba(0,0,0,0.8),rgba(0,0,0,0.2))}
    .card h3{margin:0;font-size:1rem;font-weight:700}
    .features{list-style:disc;margin:6px 0 0 18px;padding:0;max-height:0;overflow:hidden;opacity:0;text-transform:none;font-size:0.8rem;transition:max-height .25s ease,opacity .25s ease}
    .card:hover .features{max-height:120px;opacity:1}
    .price-row{display:flex;justify-content:space-between;align-items:center;margin-top:8px}
    .price{color:var(--green);font-weight:900;font-size:1rem}

    /* Vælg pakke-knapper */
    .choose-btn{
    display:inline-block;
    padding:6px 12px;
    font-weight:900;
    color:var(--green);
    border:2px solid var(--green);
    border-radius:8px;
    text-decoration:none;
    background:rgba(0,0,0,0.4);
    transition:all 0.2s ease;
    }

    .choose-btn:hover{background:var(--green);color:#000;box-shadow:0 0 12px var(--green);transform:translateY(-2px)}
    .choose-btn:active{transform:translateY(0);box-shadow:none}


    /* Contact area: buttons styled like text but are actual buttons to ensure a real user gesture */
    .contact-list{display:flex;flex-direction:column;gap:10px}
    .contact-row{display:flex;align-items:center;gap:10px}
    .contact-emoji{font-size:1.1rem}
    .copy-btn{
      background:transparent;border:0;color:#fff;font-weight:700;letter-spacing:0.6px;padding:8px 10px;border-radius:6px;cursor:pointer;text-align:left;font-size:0.98rem
    }
    .copy-btn:focus{outline:2px solid rgba(0,255,136,0.18)}
    .copy-btn:hover{background:var(--accent)}

    /* subtle helper text */
    .muted{color:var(--muted);font-weight:400;font-size:0.9rem}

    footer{padding:30px 18px;text-align:center;color:rgba(255,255,255,0.6);font-size:0.8rem}

    /* toast */
    #toast{position:fixed;left:50%;transform:translateX(-50%);bottom:22px;background:#111;padding:10px 16px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);opacity:0;pointer-events:none;transition:opacity .25s ease;z-index:60}

    /* fallback modal */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:flex;align-items:center;justify-content:center;z-index:80}
    .modal-card{background:#0b0b0b;padding:18px;border-radius:10px;width:min(520px,92%);border:1px solid rgba(255,255,255,0.04)}
    .modal-card p{margin:0 0 8px 0;color:var(--muted)}
    .modal-input{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:#fff}
    .modal-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:12px}
    .btn{padding:8px 12px;border-radius:8px;border:0;cursor:pointer}
    .btn-primary{background:#00ff88;color:#000;font-weight:800}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#fff}

    @media (max-width:600px){
      header{padding:14px 12px}
      .hero{padding:28px 12px}
      nav a{font-size:0.85rem;padding:6px 8px}
      .login-btn{padding:6px 8px;font-size:0.85rem}
    }
    /* Scroll fade-in effekt */
    .fade-section {
    opacity: 0;
    transform: translateY(40px);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .fade-section.visible {
    opacity: 1;
    transform: translateY(0);
    }

    /* old price-row rules removed - new styles defined above */

        /* Brugermenu styling */
    .user-menu {
    position: relative;
    display: none; /* Skjult som standard */
    }

    .user-name {
    font-weight: bold;
    color: #00ff66;
    cursor: pointer;
    padding: 6px 12px;
    border: 1px solid #444;
    border-radius: 4px;
    }

    .user-name:hover {
    background: #00ff66;
    color: black;
    }

    .dropdown {
    display: none;
    position: absolute;
    top: 35px;
    right: 0;
    background: #111;
    border: 1px solid #444;
    border-radius: 4px;
    overflow: hidden;
    min-width: 160px;
    z-index: 100;
    }

    .dropdown a {
    display: block;
    padding: 10px;
    color: white;
    text-decoration: none;
    font-size: 14px;
    }

    .dropdown a:hover {
    background: #00ff66;
    color: black;
    }

    .user-menu:hover .dropdown {
    display: block;
    }

    .user-menu {
    position: relative;
    display: inline-block;
    cursor: pointer;
    }

    .user-name {
    color: #4CAF50;
    font-weight: bold;
    padding: 8px 12px;
    border: 2px solid #4CAF50;
    border-radius: 4px;
    }

    .dropdown-menu {
    display: none;
    position: absolute;
    top: 110%;
    right: 0;
    background: white;
    border: 1px solid #ddd;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    min-width: 160px;
    z-index: 1000;
    }

    .dropdown-menu a {
    display: block;
    padding: 10px;
    color: black;
    text-decoration: none;
    }

    .dropdown-menu a:hover {
    background: #f0f0f0;
    }

    .user-menu:hover .dropdown-menu {
    display: block;
    }


  </style>
</head>
<body>
  <header>
    <div class="logo">[ LYDSTYRKEN ]</div>
    <nav aria-label="Hovednavigation">
      <a href="#pakker">[ PAKKER ]</a>
      <a href="#bygselv">[ BYG SELV ]</a>
      <a href="#hvem">[ HVEM ER VI? ]</a>
      <a href="#kontakt">[ KONTAKT ]</a>
      <!-- Login knap -->
        <!-- Login-knap -->
        <button class="login-btn" id="loginBtn">[ LOG IND ]</button>

        <!-- Brugermenu -->
        <div class="user-menu" style="display:none;">
        <div class="user-name" id="user-name"></div>
        <div class="dropdown-menu">
            <a href="min-konto.html">[ Min konto ]</a>
            <a href="tidligere-ordrer.html">[ Tidligere ordrer ]</a>
            <a href="#" onclick="logout()">[ Log ud ]</a>
        </div>
        </div>


    </nav>

    <div id="userDisplay" style="position: absolute; top: 10px; right: 20px; color: #00ff66; font-weight: bold;"></div>
        <script>
        const user = localStorage.getItem("lydstyrkenUser");
        if (user) {
            document.getElementById("userDisplay").textContent = "Hej, " + user;
        }
        </script>

        <div id="userArea" style="position: absolute; top: 10px; right: 20px; color: #00ff66; font-weight: bold; display: flex; gap: 10px; align-items: center;"></div>

        <script>
        const user = localStorage.getItem("lydstyrkenUser");
        const userArea = document.getElementById("userArea");

        if (user) {
            userArea.innerHTML = `
            <span>Hej, ${user}</span>
            <button onclick="window.location.href='konto.html'" style="background: transparent; border: 2px solid #00ff66; color: #00ff66; padding: 5px 10px; border-radius: 5px; cursor: pointer;">Min konto</button>
            <button onclick="logout()" style="background: transparent; border: 2px solid #ff4444; color: #ff4444; padding: 5px 10px; border-radius: 5px; cursor: pointer;">Log ud</button>
            `;
        }

        function logout() {
            localStorage.removeItem("lydstyrkenUser");
            alert("Du er nu logget ud");
            window.location.href = "index.html";
        }
        </script>

  </header>

  <section class="hero" aria-hidden="false">
    <h1>[ LYDSTYRKEN ]</h1>
    <p>Professionelle højtalerløsninger til lokale priser</p>
  </section>

  <main>
    <section id="pakker" class="fade-section">
      <h2>[ PAKKER ]</h2>
      <div class="grid">
        <div class="card">
          <img src="assets/img/pakke-1.jpg" alt="Den Lille Pakke">
          <div class="overlay">
            <h3>[ DEN LILLE PAKKE ]</h3>
            <ul class="features">
              <li>1 × Yamaha DXR12</li>
              <li>1 × DXS12 subwoofer</li>
              <li>Bluetooth & stativ</li>
            </ul>
            <div class="price-row">
              <a href="pakke1.html" class="choose-btn">[ VÆLG PAKKE ]</a>
              <span class="price">500 kr.</span>
            </div>
          </div>
        </div>
        <div class="card">
          <img src="assets/img/pakke-2.jpg" alt="Den Udvidet Pakke">
          <div class="overlay">
            <h3>[ DEN UDVIDET PAKKE ]</h3>
            <ul class="features">
              <li>2 × Yamaha DXR12</li>
              <li>1 × DXS12 subwoofer</li>
              <li>Bluetooth & stativer</li>
            </ul>
            <div class="price-row">
              <a href="pakke2.html" class="choose-btn">[ VÆLG PAKKE ]</a>
              <span class="price">1000 kr.</span>
            </div>
          </div>
        </div>
        <div class="card">
          <img src="assets/img/pakke-3.jpg" alt="Den Store Pakke">
          <div class="overlay">
            <h3>[ DEN STORE PAKKE ]</h3>
            <ul class="features">
              <li>2 × kraftige tops</li>
              <li>2 × subwoofere</li>
              <li>Maksimal lyd</li>
            </ul>
            <div class="price-row">
              <a href="pakke3.html" class="choose-btn">[ VÆLG PAKKE ]</a>
              <span class="price">1500 kr.</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="bygselv" class="fade-section" style="margin-top:28px">
      <h2>[ BYG SELV ]</h2>
      <p class="muted">Sammensæt din egen højttalerpakke, så den passer perfekt til dit behov. Kontakt os for et skræddersyet tilbud eller prøv vores nye Byg-selv software.</p>
    </section>

    <section id="hvem" class="fade-section" style="margin-top:28px">
      <h2>[ HVEM ER VI? ]</h2>
      <p class="muted">Hos [LYDSTYRKEN] leverer vi lyd, der løfter stemningen og gør enhver begivenhed til en oplevelse. Vi arbejder med professionelle lydmixere og kvalitets-højttalere, så lyden altid står knivskarpt – uanset om det er til en fødselsdag, et bryllup, en firmafest eller større arrangementer.</p>
    </section>

    <section id="kontakt" class="fade-section" style="margin-top:28px">
      <h2>[ KONTAKT ]</h2>
      <div class="contact-list" aria-live="polite">
        <div class="contact-row">
          <div class="contact-emoji">📱</div>
          <button class="copy-btn" data-copy="+45 42 60 34 70" aria-label="Kopier telefonnummer">[ +45 42 60 34 70 ]</button>
        </div>
        <div class="contact-row">
          <div class="contact-emoji">📧</div>
          <button class="copy-btn" data-copy="lydstyrken@gmail.com" aria-label="Kopier email">[ lydstyrken@gmail.com ]</button>
        </div>
        <div class="contact-row">
          <div class="contact-emoji">📷</div>
          <button class="copy-btn" data-copy="@lydstyrken.pm" aria-label="Kopier instagram">[ @lydstyrken.pm ]</button>
        </div>
        <div class="contact-row">
          <div class="contact-emoji">📘</div>
          <button class="copy-btn" data-copy="https://facebook.com/lydstyrken" aria-label="Kopier facebook link">[ facebook.com/lydstyrken ]</button>
        </div>
      </div>
      <p class="muted" style="margin-top:10px">Tryk på en linje for at kopiere til udklipsholder.</p>
    </section>
  </main>

  <footer>
    &copy; 2025 [ LYDSTYRKEN ]. ALLE RETTIGHEDER FORBEHOLDES.
  </footer>

  <!-- toast -->
  <div id="toast" role="status" aria-live="polite"></div>

  <!-- fallback modal (hidden by default) -->
  <div id="fallbackModal" class="modal" style="display:none">
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="fallbackTitle">
      <h3 id="fallbackTitle" style="margin:0 0 8px 0;font-weight:900">Kopiering ikke mulig automatisk</h3>
      <p>Din browser eller den nuværende side tillader ikke automatisk kopiering. Brug nedenstående felt til at kopiere manuelt (tryk Ctrl+C eller lang-tryk på mobil).</p>
      <input id="fallbackInput" class="modal-input" readonly>
      <div class="modal-actions">
        <button class="btn btn-ghost" id="modalClose">Luk</button>
        <button class="btn btn-primary" id="modalSelect">Markér og kopier</button>
      </div>
    </div>
  </div>

  <script>
    // Attach event listeners after DOM is ready
    document.addEventListener('DOMContentLoaded', function () {
      const copyBtns = document.querySelectorAll('.copy-btn');
      copyBtns.forEach(btn => {
        btn.addEventListener('click', async function (e) {
          const text = btn.dataset.copy;
          // We *must* run clipboard.writeText inside a direct user gesture (click handler) — done here.
          try {
            if (navigator.clipboard && navigator.clipboard.writeText) {
              await navigator.clipboard.writeText(text);
              showToast('Kopieret: ' + text);
            } else {
              // No Clipboard API available — fallback
              fallbackCopy(text);
            }
          } catch (err) {
            // If permission/feature is blocked, fallback to manual modal
            console.warn('clipboard.writeText fejlede:', err);
            fallbackModal(text);
          }
        });
      });

      // login button placeholder
      const loginBtn = document.getElementById('loginBtn');
      loginBtn.addEventListener('click', function () {
        // replace with real login flow later
        window.location.href = '/login';
      });

      // modal actions
      document.getElementById('modalClose').addEventListener('click', function () {
        hideFallbackModal();
      });
      document.getElementById('modalSelect').addEventListener('click', function () {
        const input = document.getElementById('fallbackInput');
        input.select();
        try {
          document.execCommand('copy');
          hideFallbackModal();
          showToast('Kopieret manuelt: ' + input.value);
        } catch (e) {
          // If execCommand also fails, instruct user
          alert('Kan ikke kopiere automatisk. Marker teksten og kopier manuelt (Ctrl+C eller lang-tryk).');
        }
      });

    });

    function showToast(message) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.style.opacity = '1';
      clearTimeout(window._toastTimeout);
      window._toastTimeout = setTimeout(() => { toast.style.opacity = '0'; }, 2200);
    }

    function fallbackCopy(text) {
      // Attempt quick fallback: create input, select, try execCommand
      const tmp = document.createElement('input');
      tmp.value = text;
      document.body.appendChild(tmp);
      tmp.select();
      try {
        const ok = document.execCommand('copy');
        tmp.remove();
        if (ok) {
          showToast('Kopieret: ' + text);
          return;
        }
      } catch (e) {
        console.warn('execCommand copy fejlede', e);
      }
      tmp.remove();
      fallbackModal(text);
    }

    function fallbackModal(text) {
      const modal = document.getElementById('fallbackModal');
      const input = document.getElementById('fallbackInput');
      input.value = text;
      modal.style.display = 'flex';
      // try to focus and select for mobile/desktop
      setTimeout(() => { input.focus(); input.select(); }, 40);
    }
    function hideFallbackModal() { document.getElementById('fallbackModal').style.display = 'none'; }

        document.addEventListener("DOMContentLoaded", () => {
    const sections = document.querySelectorAll(".fade-section");

    const observer = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add("visible");
            obs.unobserve(entry.target);
        }
        });
    }, { threshold: 0.15 });

    sections.forEach(sec => observer.observe(sec));
    });

  </script>

    <script>

    import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-auth.js";

    const auth = getAuth();

    const loginBtn = document.getElementById("loginBtn");
    const userMenu = document.querySelector(".user-menu");
    const userNameSpan = document.getElementById("user-name");

    auth.onAuthStateChanged((user) => {
    if (user) {
        // Skjul login knap
        loginBtn.style.display = "none";

        // Vis brugermenu
        userMenu.style.display = "inline-block";

        // Sæt brugernavn (eller email hvis der ikke er navn)
        userNameSpan.textContent = user.displayName || user.email;
    } else {
        // Vis login knap
        loginBtn.style.display = "inline-block";
        userMenu.style.display = "none";
    }
    });

    // Log ud funktion
    window.logout = function() {
    signOut(auth).then(() => {
        window.location.href = "index.html";
    });
    };

    </script>



</body>
</html>
